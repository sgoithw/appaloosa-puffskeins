import{a as d,e as a,E as x}from"./assets/dayquote-fa49e381.js";import{i as u}from"./assets/vendor-ad859c2f.js";const m={subscribeForm:document.querySelector("#subscribe-form")};m.subscribeForm.addEventListener("submit",y);function y(e){e.preventDefault();const t=m.subscribeForm.email.value.trim();if(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(t))m.subscribeForm.reset();else{u.show({position:"center",timeout:5e3,color:"red",message:"Please enter valid email"});return}d.createSubscription({email:t}).then(i=>{const c=i.message;u.show({position:"center",color:"white",message:c.replace(/([^\w!]) /g,"$1<br>")})}).catch(i=>{u.show({position:"center",messageColor:"red",color:"white",message:i.message})}).finally(()=>{})}const r={muscles:"",bodypart:"",equipment:"",keyword:"",page:1,limit:10},E={Muscles:"muscles","Body parts":"bodypart",Equipment:"equipment"},v=document.querySelector(".exercises-cards-list"),o=document.querySelector(".exs-pagination"),b=document.querySelector(".filter-search"),l=document.querySelector(".search-form");b.addEventListener("change",M);l.addEventListener("submit",S);function M(e){r.keyword=e.target.value}function S(e){e.preventDefault(),p(),l.reset()}let n="Muscles";async function g(e,t=1){try{const s=await d.filters({filter:e,page:t,limit:12}),i=s.results;l.style.display="none",v.innerHTML=a.getExerciseCategoryListHTML(i);const c=s.totalPages;o.innerHTML=a.getPaginationHTML(c,t),T()}catch(s){console.error("Error fetching exercises:",s)}}g(n);function L(e){if(e.target.tagName==="A"){const t=parseInt(e.target.dataset.page);if(!isNaN(t)){const s=document.querySelector(".exs-pagination-item.active");parseInt(s.textContent)!==t&&(g(n,t),s.classList.remove("active"),e.target.parentElement.classList.add("active"))}}}o.addEventListener("click",L);const f=document.querySelectorAll(".exercises-item");f.forEach(e=>{e.addEventListener("click",function(){f.forEach(t=>t.classList.remove("active")),this.classList.add("active"),n=this.textContent,g(n)})});function T(){document.querySelectorAll(".exs-card-item").forEach(t=>t.addEventListener("click",k))}function k(e){r.muscles="",r.bodypart="",r.equipment="",r[E[n]]=e.currentTarget.dataset.name,p()}function q(e){const t=document.querySelector(".exercises-cards-list");t.innerHTML="";const s=x.exerciseCardType.HOME,i=a.getExerciseListHTML(e.results,s);t.innerHTML=i,o.removeEventListener("click",L),document.querySelectorAll(".exs-pagination-link").forEach(h=>h.addEventListener("click",P)),l.style.display="flex"}function P(e){e.preventDefault(),r.page=e.currentTarget.dataset.page,p()}function p(){d.exercises(r).then(e=>{o.innerHTML=a.getPaginationHTML(e.totalPages,r.page,r.limit),q(e)}).catch(e=>{console.error("Помилка отримання вправ:",e)})}
//# sourceMappingURL=commonHelpers2.js.map
