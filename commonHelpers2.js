import{a as d,e as a,E as x}from"./assets/dayquote-57d84df7.js";import{i as u}from"./assets/vendor-ad859c2f.js";const m={subscribeForm:document.querySelector("#subscribe-form")};m.subscribeForm.addEventListener("submit",y);function y(e){e.preventDefault();const t=m.subscribeForm.email.value.trim();if(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(t))m.subscribeForm.reset();else{u.show({position:"center",timeout:5e3,color:"red",message:"Please enter valid email"});return}d.createSubscription({email:t}).then(r=>{const c=r.message;u.show({position:"center",color:"white",message:c.replace(/([^\w!]) /g,"$1<br>")})}).catch(r=>{u.show({position:"center",messageColor:"red",color:"white",message:r.message})}).finally(()=>{})}const n={muscles:"",bodypart:"",equipment:"",keyword:"",page:1,limit:10},E={Muscles:"muscles","Body parts":"bodypart",Equipment:"equipment"},v=document.querySelector(".exercises-cards-list"),o=document.querySelector(".exs-pagination"),b=document.querySelector(".filter-search"),l=document.querySelector(".search-form");b.addEventListener("change",k);l.addEventListener("submit",M);function k(e){n.keyword=e.target.value}function M(e){e.preventDefault(),p(),l.reset()}let i="Muscles";async function g(e,t=1){try{const s=await d.filters({filter:e,page:t,limit:12}),r=s.results;l.style.display="none",v.innerHTML=a.getExerciseCategoryListHTML(r);const c=s.totalPages;o.innerHTML=a.getPaginationHTML(c,t),S()}catch(s){console.error("Error fetching exercises:",s)}}g(i);function L(e){if(e.target.tagName==="A"){const t=parseInt(e.target.dataset.page);if(!isNaN(t)){const s=document.querySelector(".exs-pagination-item.active");parseInt(s.textContent)!==t&&(g(i,t),s.classList.remove("active"),e.target.parentElement.classList.add("active"))}}}o.addEventListener("click",L);const f=document.querySelectorAll(".exercises-item");f.forEach(e=>{e.addEventListener("click",function(){f.forEach(t=>t.classList.remove("active")),this.classList.add("active"),i=this.textContent,g(i)})});function S(){console.log("listenClick func");const e=document.querySelectorAll(".exs-card-item");console.log(e),e.forEach(t=>t.addEventListener("click",T))}function T(e){n.muscles="",n.bodypart="",n.equipment="",n[E[i]]=e.currentTarget.dataset.name,p()}function q(e){const t=document.querySelector(".exercises-cards-list");t.innerHTML="";const s=x.exerciseCardType.HOME,r=a.getExerciseListHTML(e.results,s);t.innerHTML=r,o.removeEventListener("click",L),document.querySelectorAll(".exs-pagination-link").forEach(h=>h.addEventListener("click",P)),l.style.display="flex"}function P(e){e.preventDefault(),n.page=e.currentTarget.dataset.page,p()}function p(){d.exercises(n).then(e=>{o.innerHTML=a.getPaginationHTML(e.totalPages,n.page,n.limit),q(e)}).catch(e=>{console.error("Помилка отримання вправ:",e)})}
//# sourceMappingURL=commonHelpers2.js.map
